<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>New HSK 1 - Smart Dictionary</title>
    <style>
        :root { --green: #00843D; --red: #EF3340; --blue: #005EB8; --bg: #f4f7f6; }
        body { font-family: system-ui, sans-serif; background: var(--bg); margin: 0; padding-bottom: 50px; }
        header { background: var(--green); color: white; padding: 20px; text-align: center; position: sticky; top: 0; z-index: 100; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        
        /* åˆ†ç±»å¯¼èˆªæ æ ·å¼ */
        .category-nav { display: flex; overflow-x: auto; padding: 10px; background: white; gap: 10px; border-bottom: 1px solid #ddd; position: sticky; top: 82px; z-index: 99; }
        .nav-btn { white-space: nowrap; padding: 8px 15px; border-radius: 20px; border: 1px solid var(--green); background: white; color: var(--green); font-weight: bold; cursor: pointer; }
        .nav-btn.active { background: var(--green); color: white; }

        .search-area { padding: 15px; background: white; position: sticky; top: 135px; z-index: 98; border-bottom: 1px solid #ddd; text-align: center; }
        #q { width: 90%; padding: 12px; border-radius: 25px; border: 2px solid #eee; font-size: 16px; outline: none; }
        
        .container { display: flex; flex-wrap: wrap; justify-content: center; padding: 15px; gap: 20px; }
        .card { background: white; width: 330px; border-radius: 15px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); border-left: 6px solid var(--red); overflow: hidden; }
        .card-top { display: flex; padding: 15px; align-items: center; }
        img { width: 90px; height: 90px; border-radius: 10px; object-fit: cover; margin-right: 15px; background: #eee; }
        
        .info h2 { margin: 0; font-size: 26px; color: #333; }
        .info .py { color: var(--red); font-size: 15px; font-weight: 500; }
        .info .en { color: var(--blue); font-size: 14px; font-weight: bold; }
        .info .ar { color: var(--green); font-size: 18px; direction: rtl; margin-top: 3px; }
        
        .ex-box { background: #fafafa; margin: 0 15px 10px; padding: 12px; border-radius: 10px; line-height: 2.2; border: 1px solid #eee; }
        ruby { font-size: 21px; color: #333; }
        rt { font-size: 11px; color: var(--red); }
        .ex-trans { display: block; font-size: 13px; color: #666; margin-top: 5px; }
        .ex-ar { direction: rtl; text-align: right; color: var(--green); border-top: 1px dashed #eee; padding-top: 5px; margin-top: 5px; }
        
        .btn-group { display: flex; gap: 10px; padding: 0 15px 15px; }
        button.play-btn { flex: 1; padding: 10px; border: none; border-radius: 10px; font-weight: bold; cursor: pointer; font-size: 13px; }
        .btn-w { background: var(--green); color: white; }
        .btn-s { background: #e8f5e9; color: var(--green); border: 1px solid var(--green); }
    </style>
</head>
<body>

<header>
    <h1 style="margin:0; font-size:20px;">New HSK 1 Dictionary</h1>
    <p style="margin:5px 0 0; font-size:12px; opacity:0.8;">ä¸­-è‹±-é˜¿ ä¸‰è¯­æ…¢é€Ÿæœ—è¯»ç‰ˆ</p>
</header>

<div class="category-nav" id="nav">
    <button class="nav-btn active" onclick="filterCat('ALL', this)">å…¨éƒ¨ (All)</button>
    <button class="nav-btn" onclick="filterCat('PEOPLE', this)">äººç§° (People)</button>
    <button class="nav-btn" onclick="filterCat('NUM', this)">æ•°å­— (Numbers)</button>
    <button class="nav-btn" onclick="filterCat('FOOD', this)">é¥®é£Ÿ (Food)</button>
    <button class="nav-btn" onclick="filterCat('TIME', this)">æ—¶é—´ (Time)</button>
    <button class="nav-btn" onclick="filterCat('ACT', this)">åŠ¨ä½œ (Actions)</button>
</div>

<div class="search-area">
    <input type="text" id="q" placeholder="æœç´¢ä¸­æ–‡ã€æ‹¼éŸ³ã€è‹±ã€é˜¿..." oninput="find()">
</div>

<div class="container" id="list"></div>

<script>
    const words = [
        {cat:"PEOPLE", c:"æˆ‘", p:"wÇ’", e:"I / Me", a:"Ø£Ù†Ø§", i:"https://images.pexels.com/photos/1010519/pexels-photo-1010519.jpeg?w=200", s:"<ruby>æˆ‘<rt>wÇ’</rt></ruby><ruby>æ˜¯<rt>shÃ¬</rt></ruby><ruby>è€å¸ˆ<rt>lÇoshÄ«</rt></ruby>ã€‚", plain:"æˆ‘æ˜¯è€å¸ˆã€‚", et:"I am a teacher.", at:"Ø£Ù†Ø§ Ù…Ø¹Ù„Ù…."},
        {cat:"PEOPLE", c:"ä½ ", p:"nÇ", e:"You", a:"Ø£Ù†Øª", i:"https://images.pexels.com/photos/1130626/pexels-photo-1130626.jpeg?w=200", s:"<ruby>ä½ <rt>nÇ</rt></ruby><ruby>å¥½<rt>hÇo</rt></ruby>ï¼", plain:"ä½ å¥½ï¼", et:"Hello!", at:"Ù…Ø±Ø­Ø¨Ø§Ù‹!"},
        {cat:"FOOD", c:"æ°´", p:"shuÇ", e:"Water", a:"Ù…Ø§Ø¡", i:"https://images.pexels.com/photos/407102/pexels-photo-407102.jpeg?w=200", s:"<ruby>è¯·<rt>qÇng</rt></ruby><ruby>å–<rt>hÄ“</rt></ruby><ruby>æ°´<rt>shuÇ</rt></ruby>ã€‚", plain:"è¯·å–æ°´ã€‚", et:"Please drink water.", at:"ØªÙØ¶Ù„ Ø§Ø´Ø±Ø¨ Ø§Ù„Ù…Ø§Ø¡."},
        {cat:"NUM", c:"ä¸€", p:"yÄ«", e:"One", a:"ÙˆØ§Ø­Ø¯", i:"https://via.placeholder.com/90?text=1", s:"<ruby>ä¸€<rt>yÄ«</rt></ruby><ruby>ä¸ª<rt>gÃ¨</rt></ruby><ruby>äºº<rt>rÃ©n</rt></ruby>ã€‚", plain:"ä¸€ä¸ªäººã€‚", et:"One person.", at:"Ø´Ø®Øµ ÙˆØ§Ø­Ø¯."},
        {cat:"TIME", c:"ç°åœ¨", p:"xiÃ nzÃ i", e:"Now", a:"Ø§Ù„Ø¢Ù†", i:"https://images.pexels.com/photos/1198264/pexels-photo-1198264.jpeg?w=200", s:"<ruby>ç°<rt>xiÃ n</rt></ruby><ruby>åœ¨<rt>zÃ i</rt></ruby><ruby>å‡ <rt>jÇ</rt></ruby><ruby>ç‚¹<rt>diÇn</rt></ruby>ï¼Ÿ", plain:"ç°åœ¨å‡ ç‚¹ï¼Ÿ", et:"What time is it now?", at:"ÙƒÙ… Ø§Ù„Ø³Ø§Ø¹Ø© Ø§Ù„Ø¢Ù†ØŸ"},
        {cat:"ACT", c:"çœ‹", p:"kÃ n", e:"Look/Watch", a:"ÙŠØ´Ø§Ù‡Ø¯", i:"https://images.pexels.com/photos/415829/pexels-photo-415829.jpeg?w=200", s:"<ruby>çœ‹<rt>kÃ n</rt></ruby><ruby>ç”µ<rt>diÃ n</rt></ruby><ruby>è§†<rt>shÃ¬</rt></ruby>ã€‚", plain:"çœ‹ç”µè§†ã€‚", et:"Watch TV.", at:"Ù…Ø´Ø§Ù‡Ø¯Ø© Ø§Ù„ØªÙ„ÙØ§Ø²."}
        // åç»­å¯ä»¥åœ¨è¿™é‡Œç»§ç»­æ·»åŠ  500 ä¸ªè¯...
    ];

    let currentCat = "ALL";

    function render(data) {
        const box = document.getElementById('list');
        let html = "";
        data.forEach(w => {
            html += `<div class="card">
                <div class="card-top">
                    <img src="${w.i}" onerror="this.src='https://via.placeholder.com/90'">
                    <div class="info">
                        <h2>${w.c}</h2>
                        <div class="py">${w.p}</div>
                        <div class="en">${w.e}</div>
                        <div class="ar">${w.a}</div>
                    </div>
                </div>
                <div class="ex-box">
                    ${w.s}
                    <span class="ex-trans">ğŸ‡ºğŸ‡¸ ${w.et}</span>
                    <span class="ex-trans ex-ar">ğŸ‡¸ğŸ‡¦ ${w.at}</span>
                </div>
                <div class="btn-group">
                    <button class="play-btn btn-w" onclick="speak('${w.c}')">ğŸ”Š Word</button>
                    <button class="play-btn btn-s" onclick="speak('${w.plain}')">ğŸ“– Example</button>
                </div>
            </div>`;
        });
        box.innerHTML = html || '<p style="padding:20px; color:#999;">No results found...</p>';
    }

    function speak(text) {
        window.speechSynthesis.cancel();
        const msg = new SpeechSynthesisUtterance(text);
        msg.lang = 'zh-CN';
        msg.rate = 0.65;
        window.speechSynthesis.speak(msg);
    }

    function filterCat(cat, btn) {
        currentCat = cat;
        document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        find();
    }

    function find() {
        const v = document.getElementById('q').value.toLowerCase().trim();
        const filtered = words.filter(w => {
            const matchCat = (currentCat === "ALL" || w.cat === currentCat);
            const pyNoTones = w.p.normalize("NFD").replace(/[\u0300-\u036f]/g, "").replace(/\s/g, "");
            const matchQuery = w.c.includes(v) || pyNoTones.includes(v.replace(/\s/g, '')) || w.e.toLowerCase().includes(v) || w.a.includes(v);
            return matchCat && matchQuery;
        });
        render(filtered);
    }

    window.onload = () => render(words);
</script>

</body>
</html>
